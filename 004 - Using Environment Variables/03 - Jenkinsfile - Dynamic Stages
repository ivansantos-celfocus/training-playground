pipeline {
	agent { 
		docker { 
			image 'maven:latest' 
		}
	}
	environment { 
		BUILD_CONFIG = '''
		[{ "name": "java", "command": "javac -version" },
		{ "name": "maven", "command": "mvn -version" }]
		'''
	}
	stages {
		stage('build') {
			steps {
				scripts {
					def buildConfigs = []
					buildConfigs.each{ buildConfig ->
						stage(buildConfig.name) {
							sh '$buildConfig.command'
						}
					}
				}
			}
		}
	}
}
